{%extends display.cpMain%}


{%block pageContent%}

<div class="f justify-center">
{%if utilityGET.type%}
  <div class="c4 s12 mRa5">
      <div class="f justify-center">
        <div class="cbox ">
          <form method="post">
            {{block ('iTitle') }}
            {{block ('iSlug') }}
            {{block ('iexcerpt') }}
{%if utilityGET.type == 'cat'%}
            {{block ('iParent') }}
{%endif%}
            {{block ('iDescription') }}
            {{block ('iStatus') }}
            {%if edit_mode%}{{block ('iedit')}}{%else%}{{block ('iadd')}}
            {%endif%}
          </form>
        </div>
      </div>
  </div>


{%else%}
{%endif%}
  <div class="c s12">
    {{block ('iTable') }}
  </div>
</div>
{%endblock%}


{%block iTable%}
{%if dataTable%}
<div class="f justify-center">
<div class="cbox ">

    <table class="tbl">
      <thead>
        <tr class="primary">
          <th>{%trans "Title"%}</th>
          <th>{%trans "Slug"%}</th>
          <th>{%trans "Status"%}</th>

        </tr>
      </thead>
      <tbody>
        {%for key, value in dataTable%}
          <tr>
            <td><a href="{{url.baseFull}}/terms?type={{value.type}}&edit={{value.id}}">{{value.title}}</a></td>
            <td><a href="{{url.base}}/{{value.url}}" target="_blank">{{value.slug}}</a></td>

            <td class="collapsing">{%set vStatus = value.status%}{%trans vStatus%}</td>
          </tr>
        {%endfor%}
      </tbody>
    </table>
  </div>
</div>
{%endif%}
{%endblock%}



{%block iadd%}
<button class="btn primary block mT25">{%trans "Add"%}</button>
{%endblock%}

{%block iedit%}
<button class="btn primary block mT25">{%trans "Edit"%}</button>
{%endblock%}


{%block iTitle%}
<label for='fslug'>{%trans "Title"%} <small class="fc-red">* {%trans "Require"%}</small></label>
<div class="input">
 <input type="text" name="title" placeholder='{%trans "Title"%} *' value="{{datarow.title}}" autofocus maxlength='100' minlength="1" pattern=".{1,100}" title='{%trans "Enter a valid title"%}' id='ftitle' required>
</div>
{%endblock%}


{%block iSlug%}
<label for='fslug'>{%trans "Slug"%} <small>{%trans "Used for url"%}</small></label>
<div class="input">
 <input type="text" name="slug" placeholder='{%trans "Slug"%}' value="{{datarow.slug}}" maxlength='50' minlength="1" pattern=".{1,50}" title='{%trans "Enter a valid slug"%}' id='fslug'>
</div>
{%endblock%}


{%block iParent%}

<label for="parent">{%trans "Parent Category"%}</label>
<select name="parent" class="input select">
  <option value="">{%trans "Please select one itme"%}</option>
  {%for key, item in dataTable%}
{%if item.id == utilityGET.edit%}
{%else%}
    <option value="{{item.id}}" {%if datarow.parent == item.id %} selected {%endif%}>{{item.title}}</option>
{%endif%}
  {%endfor%}
</select>
{%endblock%}


{%block iDescription%}
<label for='fdesc'>{%trans "Description"%}</label>
<textarea class="txt" name="desc" rows="7" placeholder='{%trans "Description"%}' id='fdesc'>{{datarow.desc}}</textarea>
{%endblock%}


{%block iStatus%}
<div class="switch1">
    <input type="checkbox" name="status" id="switch12" {%if datarow.status == 'enable' or not datarow %} checked {%endif%}>
    <label for="switch12" data-on='{%trans "Active"%}' data-off='{%trans "Deactive"%}'></label>
    <label for="switch12">{%trans "Status"%}</label>
   </div>
{%endblock%}



{%block iexcerpt%}
<label for='excerpt'>{%trans "Excerpt"%}</label>
<textarea class="txt" name="excerpt" rows="7" placeholder='{%trans "Description"%}' id='excerpt'>{{datarow.excerpt}}</textarea>
{%endblock%}
